new entry "_DnD5R_Warlock_PactOfTheBlade"
type "PassiveData"

new entry "Passive_DnD5R_PactOfTheBlade"
type "PassiveData"
data "DisplayName" "ha2abb2e7gbf1egad8fg5615g987d99633777;1"
data "Description" "h0b424ee5g45e9gfab9g7d5dg8972e9754f9c;1"
data "ExtraDescription" "hc6bccb41g1a5fge039g91dcgcde85ac08636;1"
data "Icon" "PassiveFeature_PactOfTheBlade"
data "Properties" "Highlighted"
data "Boosts" "UnlockSpell(Shout_DnD5R_PactOfTheBlade);UnlockSpell(Shout_DnD5R_PactOfTheBlade_Bind)"
data "StatsFunctorContext" "OnCreate"
data "StatsFunctors" "IF(not HasStatus('STATUS_DND5R_PACTBLADE_DAMAGE')):ApplyStatus(STATUS_DND5R_PACTBLADE_DAMAGE,100,-1)"

new entry "Passive_DnD5R_PactOfTheBlade_Ranged"
type "PassiveData"
using "Passive_DnD5R_PactOfTheBlade"
data "DisplayName" "h7706112eg01b6g355ag04fbgd97fe03e9b85;1"
data "Boosts" "UnlockSpell(Shout_DnD5R_Pact_HandCrossbow);UnlockSpell(Shout_DnD5R_Pact_HeavyCrossbow);UnlockSpell(Shout_DnD5R_Pact_LightCrossbow);UnlockSpell(Shout_DnD5R_Pact_Longbow);UnlockSpell(Shout_DnD5R_Pact_Shortbow);"
data "Conditions" ""
data "StatsFunctors" ""

new entry "_Passive_DnD5R_PactOfTheBlade_DamageToggle"
type "PassiveData"
data "DisplayName" "hd6b666ceg315bgc997g0cb1gda46d2638eeb;2"
data "Description" "h5e8cca57g1b6cgbfe6g2374g6a15c3cb8385;3"
data "Icon" "GenericIcon_Intent_Damage"
data "Properties" "IsToggled;ToggledDefaultAddToHotbar;IsHidden;Temporary"
data "ToggleOnFunctors" "IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand,context.Source))):ApplyEquipmentStatus(MeleeMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand,context.Source))):ApplyEquipmentStatus(RangedMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Source))):ApplyEquipmentStatus(MeleeOffHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand,context.Source))):ApplyEquipmentStatus(RangedOffHand, STATUS_DND5R_PACTBLADE,100,-1);"
data "ToggleOffFunctors" "IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand,context.Source))):ApplyEquipmentStatus(MeleeMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand,context.Source))):ApplyEquipmentStatus(RangedMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Source))):ApplyEquipmentStatus(MeleeOffHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand,context.Source))):ApplyEquipmentStatus(RangedOffHand, STATUS_DND5R_PACTBLADE,100,-1);"
data "ToggleGroup" "DnD5R_PactOfTheBladeDamage"

new entry "Passive_DnD5R_PactOfTheBlade_DamageToggle_Necrotic"
type "PassiveData"
using "_Passive_DnD5R_PactOfTheBlade_DamageToggle"
data "DisplayName" "h02523af0g61cege769g5966g5e4fb8eeafaf;1"
data "Description" "h96c43309g5748gc5a5gc1feg66a033d65700;2"
data "Icon" "Passive_DnD5R_Pact_Necrotic"
data "ToggleOnFunctors" "ApplyStatus(SELF,STATUS_DND5R_PACTBLADE_NEC,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand,context.Source))):ApplyEquipmentStatus(MeleeMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand,context.Source))):ApplyEquipmentStatus(RangedMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Source))):ApplyEquipmentStatus(MeleeOffHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand,context.Source))):ApplyEquipmentStatus(RangedOffHand, STATUS_DND5R_PACTBLADE,100,-1);"
data "ToggleOffFunctors" "RemoveStatus(SELF,STATUS_DND5R_PACTBLADE_NEC);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand,context.Source))):ApplyEquipmentStatus(MeleeMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand,context.Source))):ApplyEquipmentStatus(RangedMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Source))):ApplyEquipmentStatus(MeleeOffHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand,context.Source))):ApplyEquipmentStatus(RangedOffHand, STATUS_DND5R_PACTBLADE,100,-1);"

new entry "Passive_DnD5R_PactOfTheBlade_DamageToggle_Psychic"
type "PassiveData"
using "_Passive_DnD5R_PactOfTheBlade_DamageToggle"
data "DisplayName" "hbc0fb883g4d6fg10aag3735ged2f3857e77e;1"
data "Description" "hf196335egf95bg286dg8989gfcfaac6c7197;2"
data "Icon" "Passive_DnD5R_Pact_Psychic"
data "ToggleOnFunctors" "ApplyStatus(SELF,STATUS_DND5R_PACTBLADE_PSY,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand,context.Source))):ApplyEquipmentStatus(MeleeMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand,context.Source))):ApplyEquipmentStatus(RangedMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Source))):ApplyEquipmentStatus(MeleeOffHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand,context.Source))):ApplyEquipmentStatus(RangedOffHand, STATUS_DND5R_PACTBLADE,100,-1);"
data "ToggleOffFunctors" "RemoveStatus(SELF,STATUS_DND5R_PACTBLADE_PSY);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand,context.Source))):ApplyEquipmentStatus(MeleeMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand,context.Source))):ApplyEquipmentStatus(RangedMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Source))):ApplyEquipmentStatus(MeleeOffHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand,context.Source))):ApplyEquipmentStatus(RangedOffHand, STATUS_DND5R_PACTBLADE,100,-1);"

new entry "Passive_DnD5R_PactOfTheBlade_DamageToggle_Radiant"
type "PassiveData"
using "_Passive_DnD5R_PactOfTheBlade_DamageToggle"
data "DisplayName" "hdb9c7e03g9a3cgb8acg80e4g573cc3e4bfc6;1"
data "Description" "h428a149ag7b15g8738ge4eeg7ccdcf13b681;2"
data "Icon" "Passive_DnD5R_Pact_Radiant"
data "ToggleOnFunctors" "ApplyStatus(SELF,STATUS_DND5R_PACTBLADE_RAD,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand,context.Source))):ApplyEquipmentStatus(MeleeMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand,context.Source))):ApplyEquipmentStatus(RangedMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Source))):ApplyEquipmentStatus(MeleeOffHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand,context.Source))):ApplyEquipmentStatus(RangedOffHand, STATUS_DND5R_PACTBLADE,100,-1);"
data "ToggleOffFunctors" "RemoveStatus(SELF,STATUS_DND5R_PACTBLADE_RAD);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeMainHand,context.Source))):ApplyEquipmentStatus(MeleeMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedMainHand,context.Source))):ApplyEquipmentStatus(RangedMainHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.MeleeOffHand,context.Source))):ApplyEquipmentStatus(MeleeOffHand, STATUS_DND5R_PACTBLADE,100,-1);IF(HasStatus('STATUS_DND5R_PACTBLADE',GetItemInEquipmentSlot(EquipmentSlot.RangedOffHand,context.Source))):ApplyEquipmentStatus(RangedOffHand, STATUS_DND5R_PACTBLADE,100,-1);"

new entry "_DnD5R_Warlock_PactOfTheBlade_Upgrades"
type "PassiveData"

new entry "Passive_DnD5R_ThirstingBlade"
type "PassiveData"
using "ExtraAttack"
data "DisplayName" "h2cc07ff2g7f67gadceg3458gba8328517492;1"
data "Description" "h989d8b8cg2b3egcd26g37c2gc521249be444;2"
data "Icon" "PassiveFeature_ThirstingBlade"
data "StatsFunctorContext" "OnCast;OnStatusRemoved;OnStatusApplied"
data "Conditions" "((context.HasContextFlag(StatsFunctorContext.OnCast) and ExtraAttackSpellCheck() and HasUseCosts('ActionPoint', true) and not Tagged('EXTRA_ATTACK_BLOCKED',context.Source) and not HasStatus('SLAYER_PLAYER',context.Source) and not HasStatus('SLAYER_PLAYER_10',context.Source) and TurnBased(context.Source) and HasPactWeapon(context.Source)) or (context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and StatusId('INITIAL_ATTACK_TECHNICAL') and TurnBased() and HasPactWeapon(context.Target)) or (context.HasContextFlag(StatsFunctorContext.OnStatusApplied) and StatusId('EXTRA_ATTACK_THIRSTING_BLADE_Q'))) and HasPassive('PactOfTheBlade',context.Source) and not HasPassive('Passive_DnD5R_DevouringBlade',context.Source)"
data "StatsFunctors" "IF(context.HasContextFlag(StatsFunctorContext.OnCast)):ApplyStatus(SELF,EXTRA_ATTACK_THIRSTING_BLADE_Q,100,1);IF(context.HasContextFlag(StatsFunctorContext.OnStatusRemoved)):ApplyStatus(EXTRA_ATTACK_THIRSTING_BLADE_Q,100,1);IF(context.HasContextFlag(StatsFunctorContext.OnStatusApplied) and not HasHigherPriorityExtraAttackQueued('EXTRA_ATTACK_THIRSTING_BLADE_Q') and not HasAnyExtraAttack()):ApplyStatus(EXTRA_ATTACK_THIRSTING_BLADE, 100, 1)"

new entry "Passive_DnD5R_DevouringBlade"
type "PassiveData"
using "ExtraAttack_2"
data "DisplayName" "hf9b8ae38g53d8g1a69gbbcaga4f14cce7d02;1"
data "Description" "h87d198dcgc19fgbb73g90d1g20444c9a0c2c;2"
data "Icon" "PassiveFeature_ThirstingBlade"
data "Conditions" "(context.HasContextFlag(StatsFunctorContext.OnCast) and ExtraAttackSpellCheck() and HasUseCosts('ActionPoint', true) and not Tagged('EXTRA_ATTACK_BLOCKED',context.Source) and not HasStatus('SLAYER_PLAYER',context.Source) and not HasStatus('SLAYER_PLAYER_10',context.Source) and TurnBased(context.Source)) or (context.HasContextFlag(StatsFunctorContext.OnStatusRemoved) and StatusId('INITIAL_ATTACK_TECHNICAL') and TurnBased()) or (context.HasContextFlag(StatsFunctorContext.OnStatusApplied) and StatusId('EXTRA_ATTACK_2_Q')) and HasPassive('PactOfTheBlade',context.Source) and HasPassive('Passive_DnD5R_ThirstingBlade', context.Source) and HasPactWeapon(context.Source)"

new entry "Passive_DnD5R_Lifedrinker"
type "PassiveData"
data "DisplayName" "h21f7569bgee2eg618bg0063gdaecba518fb0;1"
data "Description" "hc430d1ccgc9c6gc6fag9239g2507529e974f;5"
data "DescriptionParams" "DealDamage(CharismaModifier);RegainHitPoints(1d6)"
data "Icon" "Action_WildMagic_Barbarian_WeaponInfusion"
data "Properties" "Highlighted;OncePerTurn;IsToggled;ToggledDefaultOn;ToggledDefaultAddToHotbar;DisplayBoostInTooltip;Temporary"
data "BoostContext" "OnAttack"
data "Boosts" "IF(IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit) and HasStatus('STATUS_DND5R_PACTBLADE',GetAttackWeapon())):CharacterWeaponDamage(CharismaModifier);"
data "StatsFunctorContext" "OnAttack"
data "Conditions" "IsWeaponAttack() and HasDamageEffectFlag(DamageFlags.Hit) and HasStatus('STATUS_DND5R_PACTBLADE',GetAttackWeapon()) and TotalAttackDamageDoneGreaterThan(0)"
data "StatsFunctors" "RegainHitPoints(SELF,1d6+ConstitutionModifier)"

